PFont font;　日本語が正しく表示されるためのコード
int stage = 0;　現在の連続成功回数を表示
int clears = 0;　クリア回数を表示
boolean playing = false;　ゲームが実行されているか判定
String message = "SPACEキーで開始";　メッセージ表示

void setup() {
  size(600, 400); 
  // 日本語フォントを指定（WindowsならMS Gothic、Macならヒラギノなど）
  font = createFont("MS Gothic", 20, true);　フォントをMSゴシックで表示（MSゴシックを使い、文字化けを防止）
  textFont(font);　フォントを指定する

  textAlign(CENTER, CENTER);　文字を中央に寄せる（縦横の）
  textSize(20);
}

void draw() {　　drow()関数が毎フレーム自動で呼び出される　画面更新が常に行われる部分
  background(0);　画面背景を黒く塗りつぶす
  fill(255);

  if (!playing) {　ゲームが開始いてるか、していないか判定　plaingという真偽値関数で状態分け　!plaing　ゲームが開始されていない状態を表す
    text(message, width/2, height/2);　プレイ中でなければ画面中央にmessageの文字列を表示
  } else {　　ゲームプレイ中の状態
    text("ステージ: " + stage + " / 10", width/2, 50);　画面上部に現在のステージ数を表示
   
    // 青の扉
    fill(0, 100, 255);
    rect(100, 150, 150, 200);
    fill(255);
    text("青の扉", 175, 250);　　青の扉の座標、大きさ、色、テキストで「青の扉」と表示するコード

    // 緑の扉
    fill(0, 200, 100);
    rect(350, 150, 150, 200);
    fill(255);
    text("緑の扉", 425, 250);　緑の扉の座標、大きさ、色、テキストで「緑の扉」と表示するコード

    fill(255);
    text("青か緑をクリックしてください", width/2, height - 30); この座標に白い文字で「青か緑をクリックしてください」と表示
  }
}

void keyPressed() {　キーボードが押された瞬間に自動で呼び出される関数
  if (key == ' ') {　スペースキーが押されたかによって判定、押されたら即座に処理実行
    stage = 0;　ステージ番号を0（最初）にリセット
    clears = 0;　クリア回数をリセット
    playing = true;　*①plaingの値がfalseからtrueに切り替わる　すると次のフレームからdrow()の判定に変わる
    message = "SPACEキーで開始";
  }
}

ーーーーーーーーーーーー
*①例
[ゲーム待機中]（plaing = false）
               ↓
               ↓スペースキーを押す
               ↓
[ゲームプレイ中]（plaing = true）
ーーーーーーーーーーーー

void mousePressed() {　　 Processingの組み込みイベント関数
  if (!playing) return;　マウスボタンが押された瞬間自動で呼び出される

  boolean correctBlue = random(1) < 0.5;　「今回青の扉が当たりかどうか」を表すbool値となり、trueなら青、falseなら緑となる
  boolean clickedBlue = (mouseX > 100 && mouseX < 250 && mouseY > 150 && mouseY < 350);　マウスクリックの座標が「青の扉」の領域内か判定
  boolean clickedGreen = (mouseX > 350 && mouseX < 500 && mouseY > 150 && mouseY < 350);　マウスクリックの座標が「緑の扉」の領域内か判定

  if (clickedBlue || clickedGreen) {
    if ((clickedBlue && correctBlue) || (clickedGreen && !correctBlue)) {　クリックが青か緑の領域に入っているかを確かめる　
      stage++;　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　 このコードにより領域外をクリックしても反応しない
      if (stage >= 10) {　ステージ数を調整できるコード
        stage = 0;　
          playing = false;
          message = "おめでとう！10回クリア達成！";　成功したときクリア画面にでるテキスト
      }
    } else {
      stage = 0;
      clears = 0;
      playing = false;
      message = "残念！SPACEで再挑戦";　外れたときコンテニュー画面にでるテキスト
    }
  }
}
